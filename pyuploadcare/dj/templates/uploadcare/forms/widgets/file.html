{% if value %}
    <script>
        window.addEventListener('DOMContentLoaded', (e) => {
            const uploaderCtx = document.querySelector('#uploaderctx_{{ name }}');
            uploaderCtx.addFileFromUuid("{{ value.uuid }}")
        });
    </script>
{% endif %}

<script type="module">
    import * as LR from "{{ uploadcare_js }}";
    LR.registerBlocks(LR);
</script>

<lr-config
    ctx-name="{{ name }}"
    pubkey="{{ pub_key }}"
    {% for k, v in config.items %}
        {{ k|escape }}="{{ v|escape }}"
    {% endfor %}
>
</lr-config>

<lr-upload-ctx-provider
    id="uploaderctx_{{ name }}"
    ctx-name="{{ name }}"
></lr-upload-ctx-provider>

<lr-file-uploader-{{ variant }}
    css-src="{{ uploadcare_css }}"
    ctx-name="{{ name }}"
></lr-file-uploader-{{ variant }}>

<lr-data-output
    ctx-name="{{ name }}"
    use-input
></lr-data-output>



